type InitArg = record {
  targetCanister: principal;
};

type UpgradeParams = record {
  module: blob;
  checksum: blob;
};

type QueueUpgradeError = variant {
  ChecksumMismatch;
  NotController;
  Unauthorized;
  UnexpectedError: text;
};

type QueueUpgradeResponse = variant {
  Ok;
  Err: QueueUpgradeError;
};

service: (InitArg) -> {
  "queueUpgrade": (UpgradeParams) -> (QueueUpgradeResponse);
}
